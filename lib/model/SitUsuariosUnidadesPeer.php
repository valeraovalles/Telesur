<?php


/**
 * Skeleton subclass for performing query and update operations on the 'sit_usuarios_unidades' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.2 on:
 *
 * Fri Apr 27 10:54:59 2012
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class SitUsuariosUnidadesPeer extends BaseSitUsuariosUnidadesPeer {

    public static function asignar($idu,$idunidad){
        
        $idunidad_pertenece =  SitUsuariosUnidadesPeer::retrieveByPK($idu);
        
        if(empty($idunidad_pertenece)){
        
            $a = new SitUsuariosUnidades;
            $a->setIdUsuario($idu);
            $a->setIdUnidad($idunidad);
            if ($a->save()) return "Unidad asignada";
            else false;
        } else{
            
            $a = new Criteria();
            $a->add(SitUsuariosUnidadesPeer::ID_USUARIO,$idu);
            $a->add(SitUsuariosUnidadesPeer::ID_UNIDAD,$idunidad);
            if(SitUsuariosUnidadesPeer::doUpdate($a))return "Unidad actualizada"; 
            else return false;
        }
    }
    
    
} // SitUsuariosUnidadesPeer
